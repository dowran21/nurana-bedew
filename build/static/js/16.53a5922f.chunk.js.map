{"version":3,"sources":["components/News/Table.js","pages/News.js"],"names":["ModalContainer","lazy","Form","Table","useState","news","setNews","loading","setLoading","useEffect","a","get_news","res","data","rows","deleteNews","id","delete_news","prev","filter","item","Loading","type","className","Button","setClose","onClick","title","size","setLoad","scope","length","map","text","low_val","substring","upper_val","News","hello","console","log"],"mappings":"uMAMMA,EAAiBC,gBAAK,kBAAM,iCAC5BC,EAAOD,gBAAK,kBAAM,wDA0FTE,MAxFf,WACI,MAAwBC,qBAAxB,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAA8BF,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACAC,oBAAS,sBAAC,4BAAAC,EAAA,sEACYC,cADZ,OACAC,EADA,OAENN,EAAQM,EAAIC,KAAKC,KAAKT,MACtBG,GAAW,GAHL,2CAKP,IACH,IAAMO,EAAU,uCAAG,WAAOC,GAAP,SAAAN,EAAA,6DACfF,GAAW,GADI,SAEGS,YAAYD,GAFf,cAIfV,GAAQ,SAAAY,GAAI,OAAIA,EAAKC,QAAO,SAAAC,GAAI,OAAIA,EAAKJ,KAAOA,QAChDR,GAAW,GALI,2CAAH,sDAOhB,OACI,mCAEID,EAAU,cAACc,EAAA,EAAD,CAASC,KAAO,WAE9B,sBAAKC,UAAY,SAAjB,UACI,qBAAKA,UAAY,4BAAjB,SACI,8BACI,cAACvB,EAAD,CAAgBwB,OAAQ,SAACC,GAAD,OAAc,cAAC,IAAD,CAASC,QAAS,kBAAMD,KAAYF,UAAU,wEAAwEI,MAAM,yBAAiBC,KAAK,MAAxL,SACI,cAAC1B,EAAD,CAAMI,QAAWA,EAASuB,QAAWrB,UAIjD,qBAAKe,UAAY,0BAAjB,SACA,wBAAOA,UAAU,gFAAjB,UACI,uBAAOA,UAAU,qDAAjB,SACA,qBAAIA,UAAU,mBAAd,UACI,oBAAIO,MAAM,MAAMP,UAAU,oGAA1B,qBAGA,oBAAIO,MAAM,MAAMP,UAAU,oGAA1B,qBAGA,oBAAIO,MAAM,MAAMP,UAAU,oGAA1B,wBAGA,oBAAIO,MAAM,MAAMP,UAAU,oGAA1B,6BAGA,oBAAIO,MAAM,MAAMP,UAAU,oGAA1B,0BAGA,oBAAIO,MAAM,MAAMP,UAAU,oGAA1B,yBAKJ,uBAAOA,UAAU,+GAAjB,UACS,OAAJlB,QAAI,IAAJA,OAAA,EAAAA,EAAM0B,QAAS,GACZ1B,EAAK2B,KAAI,SAAAZ,GAAI,OACT,qBAAoBG,UAAU,mBAA9B,UACI,oBAAIA,UAAU,6BAAd,SACI,qBAAKA,UAAU,2CAAf,SAA2DH,EAAKJ,OAEpE,oBAAIO,UAAU,6BAAd,SACI,qBAAKA,UAAU,2CAAf,SAA2DH,EAAKO,UAEpE,oBAAIJ,UAAU,6BAAd,SACI,qBAAKA,UAAU,2CAAf,SAA2DH,EAAKa,SAEpE,oBAAIV,UAAU,6BAAd,SACI,qBAAKA,UAAU,2CAAf,SAA2DH,EAAKc,QAAQC,UAAU,EAAG,QAEzF,oBAAIZ,UAAU,6BAAd,SACI,qBAAKA,UAAU,2CAAf,SAA2DH,EAAKgB,UAAUD,UAAU,EAAG,QAE3F,oBAAIZ,UAAU,6BAAd,SACI,cAAC,IAAD,CAAWI,MAAM,SAASJ,UAAU,oEAAoEG,QAAS,kBAAMX,EAAWK,EAAKJ,WAjBpII,EAAKJ,oBCzC7BqB,UAlBf,WACI,MAAwBjC,mBAAS,IAAjC,mBAKA,OALA,UACAK,oBAAS,sBAAC,4BAAAC,EAAA,sEACcC,cADd,OACA2B,EADA,OAENC,QAAQC,IAAIF,GAFN,2CAGP,IAEC,qBAAKf,UAAU,yDAAf,SACI,sBAAKA,UAAU,uDAAf,UACA,cAAC,IAAD,IACI,qBAAKA,UAAU,0DAAf,SACI,cAAC,EAAD","file":"static/js/16.53a5922f.chunk.js","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { get_news, delete_news } from \"../../http/adminApi\";\nimport {EditIcon, TrashIcon, AddIcon} from '../../icons/index';\nimport Loading from '../Loading'\nimport { lazy } from \"react\";\n\nconst ModalContainer = lazy(() => import('../ModalContainer'));\nconst Form = lazy(() => import('./Form.js'))\n\nfunction Table () {\n    const [news, setNews] = useState();\n    const [loading, setLoading] = useState(true);\n    useEffect(async () =>{\n        const res = await get_news();\n        setNews(res.data.rows.news);\n        setLoading(false)\n\n    }, [])\n    const deleteNews = async (id) =>{\n        setLoading(true)\n        const res = await delete_news(id)\n        // console.log(res)\n        setNews(prev => prev.filter(item => item.id !== id))\n        setLoading(false)\n    }\n    return (\n        <>\n        {\n            loading ? <Loading type = \"global\"/>  : \n        \n        <div className = \"w-full\">\n            <div className = \"flex flex-row py-2 w-full\">\n                <div>\n                    <ModalContainer Button={(setClose) => <AddIcon onClick={() => setClose()} className=\"w-20 h-10 p-1 cursor-pointer text-indigo-600 hover:text-indigo-900\"/>} title=\"Täzelik goşmak\" size=\"min\">\n                        <Form setNews = {setNews} setLoad = {setLoading} ></Form>\n                    </ModalContainer>\n                </div>\n            </div>\n            <div className = \"flex flex-column w-full\">\n            <table className=\"min-w-full py-4 h-full divide-y divide-x divide-gray-200 dark:divide-gray-600\">\n                <thead className=\"w-full shadow bg-white rounded-t dark:bg-gray-800 \">\n                <tr className=\"w-full my-2 px-4\">\n                    <th scope=\"col\" className=\"px-2 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                        Belgisi\n                    </th>\n                    <th scope=\"col\" className=\"px-2 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                        Sozbasy\n                    </th>\n                    <th scope=\"col\" className=\"px-2 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                        Dusundiris\n                    </th>\n                    <th scope=\"col\" className=\"px-2 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                        Bashlayan cislo\n                    </th>\n                    <th scope=\"col\" className=\"px-2 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                        Ahyrky cislo\n                    </th>\n                    <th scope=\"col\" className=\"px-2 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                        Pozmak\n                    </th>\n                </tr>\n                </thead>\n                <tbody className=\"w-full h-5 overflow-x-auto bg-white  dark:bg-gray-800 divide-y divide-x divide-gray-200 dark:divide-gray-600\">\n                    {news?.length > 0 && \n                        news.map(item => (\n                            <tr key = {item.id} className=\"w-full mb-4 px-4\">\n                                <td className=\"px-2  py-2 whitespace-wrap\">\n                                    <div className=\"text-sm text-gray-900 dark:text-gray-100\">{item.id}</div>\n                                </td>\n                                <td className=\"px-2  py-2 whitespace-wrap\">\n                                    <div className=\"text-sm text-gray-900 dark:text-gray-100\">{item.title}</div>\n                                </td>\n                                <td className=\"px-2  py-2 whitespace-wrap\">\n                                    <div className=\"text-sm text-gray-900 dark:text-gray-100\">{item.text}</div>\n                                </td>\n                                <td className=\"px-2  py-2 whitespace-wrap\">\n                                    <div className=\"text-sm text-gray-900 dark:text-gray-100\">{item.low_val.substring(0, 10)}</div>\n                                </td>\n                                <td className=\"px-2  py-2 whitespace-wrap\">\n                                    <div className=\"text-sm text-gray-900 dark:text-gray-100\">{item.upper_val.substring(0, 10)}</div>\n                                </td>\n                                <td className=\"px-2  py-2 whitespace-wrap\">\n                                    <TrashIcon title=\"pozmak\" className=\"w-5 h-5 mx-3 cursor-pointer text-indigo-600 hover:text-indigo-900\" onClick={() => deleteNews(item.id)}/>\n                                </td>\n                            </tr>\n                        ))\n\n                    }\n                </tbody>\n            </table>\n            </div>\n        </div>\n    }\n    </>\n    )\n};\n\nexport default Table;","import { useEffect, useState } from 'react';\nimport Sidebar from '../components/SideBar.js'\nimport { get_news } from '../http/adminApi.js';\nimport Table from '../components/News/Table.js';\n\n\nfunction News (){\n    const [news, setNews] = useState([]);\n    useEffect(async()=>{\n        const hello = await get_news();\n        console.log(hello)\n    }, [])\n    return (\n        <div className=\"w-full h-full bg-gray-50 dark:bg-black dark:text-white\">\n            <div className=\"flex flex-row justify-start h-full overflow-y-hidden\">\n            <Sidebar/>\n                <div className=\"flex flex-row w-full h-full justify-between items-start\">\n                    <Table />\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default News;"],"sourceRoot":""}