{"version":3,"sources":["components/News/Form.js"],"names":["schema","Yup","shape","title","min","max","required","text","start_date","end_date","Form","values","setClose","setNews","setLoad","form","useForm","resolver","yupResolver","defaultValues","register","handleSubmit","errors","formState","onSubmit","setValue","data","a","add_news","res","prev","rows","className","htmlFor","type","name","placeholder","product_name","message","style","transition","email"],"mappings":"8OA4FA,IAAMA,EAASC,MAAaC,MAAM,CAC9BC,MAAOF,MAAaG,IAAI,EAAG,6BAA6BC,IAAI,IAAK,sCAC9DC,SAAS,mBACZC,KAAMN,MAAaG,IAAI,EAAG,6BAA6BC,IAAI,IAAM,sCAC9DC,SAAS,mBACZE,WAAYP,MAAWK,SAAS,gBAChCG,SAAUR,MAAWK,SAAS,kBAGnBI,UA5Ff,YAA0D,IAAD,MAA1CC,EAA0C,EAA1CA,OAAQC,EAAkC,EAAlCA,SAAUC,EAAwB,EAAxBA,QAASC,EAAe,EAAfA,QACxC,GADuD,EAANC,KACmBC,YAAQ,CAC1EC,SAAUC,YAAYlB,GACtBmB,cAAcR,KAFRS,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,aAA2BC,EAA7C,EAAgCC,UAAaD,OAMvCE,GANN,EAAuDC,SAMzC,uCAAG,WAAOC,GAAP,eAAAC,EAAA,6DACfb,GAAQ,GADO,SAEGc,YAASF,GAFZ,OAETG,EAFS,OAIfhB,GAAQ,SAAAiB,GAAI,4BAAQA,GAAR,CAAcD,EAAIH,KAAKK,UACnCjB,GAAQ,GACRF,IANe,2CAAH,uDASd,OACE,qBAAKoB,UAAU,wCAAf,SACE,uBAAMR,SAAUH,EAAaG,GAAWQ,UAAU,OAAlD,UACE,sBAAKA,UAAU,+DAAf,UACE,uBAAOA,UAAU,4EAA4EC,QAAQ,QAArG,qFAGA,iDAAWb,EAAS,UAApB,IAA8Bc,KAAK,OAAOC,KAAK,QAAQC,YAAY,yDACjEJ,UAAYV,EAAOnB,MACjB,2JAEA,6PAGJ,qBAAK6B,UAAU,+DAAf,mBAA+EV,EAAOe,oBAAtF,aAA+E,EAAqBC,aAIpG,sBAAKN,UAAU,0BAAf,UACE,uBAAOA,UAAU,sFAAsFC,QAAQ,QAA/G,mGAGA,iDAAWb,EAAS,eAApB,IAAmCc,KAAK,OAAOC,KAAK,aAAaC,YAAY,wFAC3EJ,UAAW,0PACXO,MAAO,CAAEC,WAAY,oBAEvB,qBAAKR,UAAU,+DAAf,mBAA+EV,EAAOd,kBAAtF,aAA+E,EAAmB8B,aAEpG,sBAAKN,UAAU,0BAAf,UACE,uBAAOA,UAAU,sFAAsFC,QAAQ,QAA/G,6FAGA,iDAAWb,EAAS,aAApB,IAAiCc,KAAK,OAAOC,KAAK,WAAWC,YAAY,kFACvEJ,UAAW,0PACXO,MAAO,CAAEC,WAAY,oBAEvB,qBAAKR,UAAU,+DAAf,mBAA+EV,EAAOb,gBAAtF,aAA+E,EAAiB6B,aAEpG,qBAAKN,UAAU,4DAAf,SACE,sBAAKA,UAAU,4BAAf,UACE,uBAAOA,UAAU,sFAAjB,4CAGA,oDAAcZ,EAAS,SAAvB,IAAgCc,KAAK,OAAOC,KAAK,OAAOC,YAAY,iCAClEJ,UAAYV,EAAOmB,MACjB,kKAEA,0PAEFF,MAAO,CAAEC,WAAY,yBAK3B,qBAAKR,UAAU,yBAAf,SACE,wBACEA,UAAU,2KACVE,KAAK,SAFP,SAIGvB,EAAS,kBAAc","file":"static/js/11.13389ef9.chunk.js","sourcesContent":["import { useForm } from \"react-hook-form\";\nimport { useState, useEffect } from \"react\";\nimport { add_product, add_news} from \"../../http/adminApi\";\nimport * as Yup from 'yup';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport 'react-finderselect/dist/index.css'\n// import SelectSearch from 'react-select-search';\n\n\nfunction Form({values, setClose, setNews, setLoad, form}){\n  const { register, handleSubmit, formState: { errors }, setValue } = useForm({ \n    resolver: yupResolver(schema),\n    defaultValues:values,\n  });\n  \n\n  const onSubmit = async (data) => {\n    setLoad(true)\n    const res = await add_news(data);\n    // console.log(res)\n    setNews(prev => [...prev, res.data.rows])\n    setLoad(false);\n    setClose()\n  }  \n  \n  return(\n    <div className=\"flex flex-col justify-start px-4 pb-6\">\n      <form onSubmit={handleSubmit(onSubmit)} className=\"pt-2\">\n        <div className=\"relative w-full mt-5 flex flex-col justify-start items-start\">\n          <label className=\"block uppercase text-gray-700 dark:text-gray-200 text-xs font-medium mb-2\" htmlFor=\"email\">\n            Sözbaşy(Заголовок)\n          </label>\n          <input {...register(\"title\")} type=\"text\" name=\"title\" placeholder=\"Заголовок\"\n            className={ errors.title ? \n              \"px-3 py-2 placeholder-gray-400 text-gray-700 dark:text-gray-200  bg-white dark:bg-gray-700 rounded text-sm focus:outline-none ring-1 ring-red-500 w-full\"\n              :         \n              \"px-3 py-2 placeholder-gray-400 text-gray-700 dark:text-gray-200  bg-white dark:bg-gray-700 rounded text-sm focus:outline-none  border-0 ring-1 ring-gray-300 dark:ring-gray-800 focus:ring-purple-700 dark:focus:ring-2 dark:focus:ring-gray-600 w-full\"\n            }\n          />\n          <div className=\"absolute top-14 left-0 text-xs text-red-500 font-normal mt-2\">{errors.product_name?.message}</div>\n        </div>\n        \n         \n          <div className=\"relative w-full-1 mt-3 \">\n            <label className=\"block uppercase text-gray-700 dark:text-gray-200 text-xs text-left font-medium mb-2\" htmlFor=\"email\">\n            Начальное число\n            </label>\n            <input {...register(\"start_date\")} type=\"date\" name=\"start_date\" placeholder=\"Начальное число\"\n              className={\"px-3 py-2 placeholder-gray-400 text-gray-700 dark:text-gray-200  bg-white dark:bg-gray-700 rounded text-sm focus:outline-none  border-0 ring-1 ring-gray-300 dark:ring-gray-800 focus:ring-purple-700 dark:focus:ring-2 dark:focus:ring-gray-600 w-full\"}\n              style={{ transition: \"all .15s ease\" }}\n            />\n            <div className=\"absolute top-14 left-0 text-xs text-red-500 font-normal mt-2\">{errors.start_date?.message}</div>\n          </div>\n          <div className=\"relative w-full-1 mt-3 \">\n            <label className=\"block uppercase text-gray-700 dark:text-gray-200 text-xs text-left font-medium mb-2\" htmlFor=\"email\">\n            Конечное число\n            </label>\n            <input {...register(\"end_date\")} type=\"date\" name=\"end_date\" placeholder=\"Конечное число\"\n              className={\"px-3 py-2 placeholder-gray-400 text-gray-700 dark:text-gray-200  bg-white dark:bg-gray-700 rounded text-sm focus:outline-none  border-0 ring-1 ring-gray-300 dark:ring-gray-800 focus:ring-purple-700 dark:focus:ring-2 dark:focus:ring-gray-600 w-full\"}\n              style={{ transition: \"all .15s ease\" }}\n            />\n            <div className=\"absolute top-14 left-0 text-xs text-red-500 font-normal mt-2\">{errors.end_date?.message}</div>\n          </div>\n        <div className=\"flex flex-col md:flex-row md:justify-between items-center\">\n          <div className=\"relative w-full mt-3 px-2\">\n            <label className=\"block uppercase text-gray-700 dark:text-gray-200 text-xs text-left font-medium mb-2\">\n              Текст\n            </label>\n            <textarea {...register(\"text\")} type=\"text\" name=\"text\" placeholder=\"Текст\"\n              className={ errors.email ? \n                \"px-3 py-2 w-auto placeholder-gray-400 text-gray-700 dark:text-gray-200  bg-white dark:bg-gray-700 rounded text-sm focus:outline-none ring-1 ring-red-500 w-full\"\n                :\n                \"px-3 py-2 placeholder-gray-400 text-gray-700 dark:text-gray-200  bg-white dark:bg-gray-700 rounded text-sm focus:outline-none  border-0 ring-1 ring-gray-300 dark:ring-gray-800 focus:ring-purple-700 dark:focus:ring-2 dark:focus:ring-gray-600 w-full\"\n              }\n              style={{ transition: \"all .15s ease\" }}\n            />\n          </div>\n        </div>\n          \n        <div className=\"text-center mt-12 mb-2\">\n          <button\n            className=\"bg-purple-700 hover:bg-purple-600 text-white  active:bg-gray-700 text-sm font-medium uppercase px-6 py-3 rounded shadow outline-none focus:outline-none mr-1 mb-1 w-full\"\n            type=\"submit\" \n          >\n            {values ? \"Üýtgetmek\" : \"Goşmak\"}\n          </button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nconst schema = Yup.object().shape({\n    title: Yup.string().min(3, \"Azyndan 3 simwol bolmaly!\").max(100, \"Iň köp 100 simwol bolmaly!\")\n      .required(\"Hökman gerek\"),\n    text: Yup.string().min(3, \"Azyndan 3 simwol bolmaly!\").max(1000, \"Iň köp 100 simwol bolmaly!\")\n      .required(\"Hökman gerek\"),\n    start_date: Yup.date().required(\"Hokman gerek\"),\n    end_date: Yup.date().required(\"Hokman gerek\"),\n});\n\nexport default Form;\n"],"sourceRoot":""}