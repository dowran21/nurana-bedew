{"version":3,"sources":["components/PaginationButton.js","components/useTimeOut.js","components/ModalContainer.js","components/Users/Form.js","components/Users/Table.js","pages/Users.js"],"names":["useTimeOut","action","time","useState","timeOut","setTime","value","clearTimeout","setTimeout","Modal","lazy","ModalContainer","Button","children","title","size","show","setShow","setClose","useEffect","cloneElement","schema","Yup","shape","full_name","min","max","required","matches","email","password","main_phone","Form","values","users","setUsers","setLoad","useForm","resolver","yupResolver","defaultValues","register","handleSubmit","errors","formState","setValue","console","log","GeneratePassword","a","pass","generator","generate","length","numbers","symbols","lowercase","uppercase","onSubmit","data","update_user","id","map","item","add_user","da","rows","className","htmlFor","type","name","placeholder","message","style","transition","onClick","Table","load","user_name","setUserName","setCount","page","setPage","limit","fetching","setFetching","searchfield","setSearchField","deleteUser","delete_user","filter","get_users","count","prev","handleSearch","document","addEventListener","scrollHandler","removeEventListener","e","target","documentElement","scrollHeight","scrollTop","window","innerHeight","Loading","onChange","scope","Users"],"mappings":"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","file":"static/js/6.458f53a3.chunk.js","sourcesContent":["import NavigateNextIcon from '../icons/NavigateNextIcon';\nimport NavigateBeforeIcon from '../icons/NavigateBeforeIcon';\nimport {string, number} from 'prop-types';\n\nconst PaginationButton = ({direction, pageCount, page}) => {\n    return (\n        <>\n        {direction === \"next\" ? \n            <button disabled={page === Math.floor(pageCount)} type=\"button\"\n                className={page === Math.floor(pageCount) ? \n                    \"cursor-not-allowed w-full p-1  shadow-md text-xl focus:outline-none outline-none rounded-lg text-gray-400 dark:text-white dark:bg-gray-600 bg-gray-50 hover:bg-white hover:text-indigo-500\"\n                    :\n                    \"w-full p-1  shadow-md text-xl focus:outline-none outline-none rounded-lg text-gray-400 dark:text-white bg-gray-50 dark:bg-gray-600 hover:bg-white hover:text-indigo-500\"\n            }>\n                <NavigateNextIcon />\n            </button> \n            :\n            <button disabled={page === 0} type=\"button\"\n                className={page === 0 ? \n                    \"cursor-not-allowed w-full p-1  shadow-md text-xl focus:outline-none outline-none rounded-lg text-gray-400 dark:text-white bg-gray-50 dark:bg-gray-600 hover:bg-white hover:text-indigo-500\" \n                    : \n                    \"w-full p-1  shadow-md text-xl focus:outline-none outline-none rounded-lg text-gray-400 dark:text-white bg-gray-50 dark:bg-gray-600 hover:bg-white hover:text-indigo-500\"\n            }>\n                <NavigateBeforeIcon/>\n            </button> \n        }\n        </>\n    );\n};\n\nPaginationButton.propTypes = {\n    direction:string.isRequired,\n    pageCount:number.isRequired,\n    page:number.isRequired\n}\n\nexport default PaginationButton;","import {useState} from 'react';\r\n\r\nfunction useTimeOut({action, time}){\r\n    const [timeOut, setTime] = useState(0);\r\n    function handleChange(value){\r\n        if(timeOut) clearTimeout(timeOut);\r\n        setTime(\r\n            setTimeout(() => {action(value)}, time)\r\n        );\r\n    }\r\n    return handleChange;\r\n}\r\n\r\nexport default useTimeOut;","import {useState, useEffect, cloneElement, lazy } from 'react';\r\nimport {element, func, string} from 'prop-types';\r\n\r\nconst Modal = lazy(() => import('./Modal'));\r\n\r\nfunction ModalContainer({Button, children, title, size}){\r\n    const [show, setShow] = useState(false);\r\n\r\n    const setClose = () => {\r\n        setShow(!show);\r\n    };\r\n    useEffect(() => {\r\n        return () => {\r\n            setShow(false);\r\n        }\r\n    }, []);\r\n    return(\r\n        <>  \r\n            {Button(setClose)}\r\n            {show && \r\n                <Modal title={title} setClose={setClose} size={size}>\r\n                    {cloneElement(children, {setClose})}\r\n                </Modal>\r\n            }\r\n        </>\r\n    );\r\n};\r\n\r\nModalContainer.propTypes = {\r\n    children:element.isRequired,\r\n    title:string.isRequired,\r\n    size:string.isRequired,\r\n    Button:func.isRequired,\r\n}\r\n\r\nexport default ModalContainer","import { useForm } from \"react-hook-form\";\nimport { add_user, update_user } from \"../../http/adminApi\";\nimport * as Yup from 'yup';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport generator from 'generate-password'\n\nfunction Form({values, setClose, users, setUsers, setLoad}){\n \n  const { register, handleSubmit, formState: { errors }, setValue } = useForm({ \n    resolver: yupResolver(schema),\n    defaultValues:values\n  });\n  console.log(users)\n\n  const GeneratePassword = async () =>{\n    let pass = generator.generate({\n      length: 6,\n      numbers: true,\n      symbols: false,\n      lowercase: false,\n      uppercase: false\n    })\n    console.log(pass)\n    setValue('password',pass)\n  }\n\n\n  const onSubmit = async (data) => {\n    setLoad(true)\n    if(values){\n      try{\n        await update_user( data.full_name, data.email, data.main_phone, data.id)\n        setUsers(users.map(item => {\n          if(item.id === data.id){\n            return data\n          }return item\n        }))\n        setLoad(false)\n        setClose()\n      }catch(e){\n        console.log(\"I am in upadte user error\")\n        console.log(e)\n      }\n    }else{\n      try{\n        const da = await add_user(data)\n        await setUsers(users => [...users, da.rows]);\n        setLoad(false)\n        setClose();\n      }catch(e){\n        console.log(\"I am in add user error\")\n        console.log(e)\n      }\n\n    }\n  }\n  \n  return(\n    <div className=\"flex flex-col justify-start px-4 pb-6\">\n      <form onSubmit={handleSubmit(onSubmit)} className=\"pt-2\">\n        <div className=\"relative w-full mt-5 flex flex-col justify-start items-start\">\n          <label className=\"block uppercase text-gray-700 dark:text-gray-200 text-xs font-medium mb-2\" htmlFor=\"email\">\n            Ady, Familýa\n          </label>\n          <input {...register(\"full_name\")} type=\"text\" name=\"full_name\" placeholder=\"Ady, Familýa\"\n            className={ errors.full_name ? \n              \"px-3 py-2 placeholder-gray-400 text-gray-700 dark:text-gray-200  bg-white dark:bg-gray-700 rounded text-sm focus:outline-none ring-1 ring-red-500 w-full\"\n              :         \n              \"px-3 py-2 placeholder-gray-400 text-gray-700 dark:text-gray-200  bg-white dark:bg-gray-700 rounded text-sm focus:outline-none  border-0 ring-1 ring-gray-300 dark:ring-gray-800 focus:ring-purple-700 dark:focus:ring-2 dark:focus:ring-gray-600 w-full\"\n            }\n          />\n          <div className=\"absolute top-14 left-0 text-xs text-red-500 font-normal mt-2\">{errors.full_name?.message}</div>\n        </div>\n        <div className=\"flex flex-col md:flex-row md:justify-between items-center\">\n        <div className=\"relative w-full mt-3\">\n          <label className=\"block uppercase text-gray-700 dark:text-gray-200 text-xs text-left font-medium mb-2\" htmlFor=\"email\">\n            Email\n          </label>\n          <input {...register(\"email\")} type=\"email\" name=\"email\" placeholder=\"Email\"\n            className={ errors.email ? \n              \"px-3 py-2 placeholder-gray-400 text-gray-700 dark:text-gray-200  bg-white dark:bg-gray-700 rounded text-sm focus:outline-none ring-1 ring-red-500 w-full\"\n              :\n              \"px-3 py-2 placeholder-gray-400 text-gray-700 dark:text-gray-200  bg-white dark:bg-gray-700 rounded text-sm focus:outline-none  border-0 ring-1 ring-gray-300 dark:ring-gray-800 focus:ring-purple-700 dark:focus:ring-2 dark:focus:ring-gray-600 w-full\"\n            }\n            style={{ transition: \"all .15s ease\" }}\n          />\n          <div className=\"absolute text-sm text-red-600 font-base mt-1\">{errors.email?.message}</div>\n        </div>\n        </div>\n        <div className=\"flex flex-col md:flex-row md:justify-between items-center\">\n        <div className=\"relative w-full mt-3\">\n          <label className=\"block uppercase text-gray-700 dark:text-gray-200 text-xs text-left font-medium mb-2\" htmlFor=\"email\">\n            Telefon belgisi\n          </label>\n          <div>\n          <div className = \"absolute px-3 py-2 text-sm\">+993</div>\n            <input {...register(\"main_phone\")} type=\"number\" name=\"main_phone\" placeholder=\"65555555\"\n              className={ errors.main_phone ? \n                \"px-12 py-2 placeholder-gray-400 text-gray-700 dark:text-gray-200  bg-white dark:bg-gray-700 rounded text-sm focus:outline-none ring-1 ring-red-500 w-full\"\n                :\n                \"px-12 py-2 placeholder-gray-400 text-gray-700 dark:text-gray-200  bg-white dark:bg-gray-700 rounded text-sm focus:outline-none  border-0 ring-1 ring-gray-300 dark:ring-gray-800 focus:ring-purple-700 dark:focus:ring-2 dark:focus:ring-gray-600 w-full\"\n              }\n              style={{ transition: \"all .15s ease\" }}\n            />\n          </div>\n          <div className=\"absolute text-sm text-red-600 font-base mt-1\">{errors.main_phone?.message}</div>\n        </div>\n        </div>\n        {!values &&\n        <div className=\"flex flex-col md:flex-row md:justify-between items-center\">\n        <div className=\"relative w-full mt-3\">\n          <label className=\"block uppercase text-gray-700 dark:text-gray-200 text-xs text-left font-medium mb-2\" htmlFor=\"email\">\n            Gizlin kody\n          </label>\n          <div>\n          <input className = \"absolute px-3 py-2 text-sm rounded\" type = \"button\" value = \"Kody generirle\" onClick = {GeneratePassword}/>\n            <input {...register(\"password\")} type=\"number\" name=\"password\" \n              className=\"px-40 py-2 placeholder-gray-400 text-gray-700 dark:text-gray-200  bg-white dark:bg-gray-700 rounded text-sm focus:outline-none  border-0 ring-1 ring-gray-300 dark:ring-gray-800 focus:ring-purple-700 dark:focus:ring-2 dark:focus:ring-gray-600 w-full\"\n              \n              style={{ transition: \"all .15s ease\" }}\n            />\n          </div>\n          <div className=\"absolute text-sm text-red-600 font-base mt-1\">{errors.password?.message}</div>\n        </div>\n        </div>\n        }\n        <div className=\"text-center mt-12 mb-2\">\n          <button\n            className=\"bg-purple-700 hover:bg-purple-600 text-white  active:bg-gray-700 text-sm font-medium uppercase px-6 py-3 rounded shadow outline-none focus:outline-none mr-1 mb-1 w-full\"\n            type=\"submit\" \n          >\n            {values ? \"Üýtgetmek\" : \"Goşmak\"}\n          </button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nconst schema = Yup.object().shape({\n  full_name: Yup.string().min(3, \"Azyndan 3 simwol bolmaly!\").max(100, \"Iň köp 100 simwol bolmaly!\")\n      .required(\"Hökman gerek\")\n      .matches(\n      /^[0-9a-z A-Zа-яА-ЯЁёýÝüÜöÖňŇäÄŽžşŞçÇ*/\\\\.,;:!?#-/$%&*+=\"@()]{3,100}$/,\n      \"Laýyk gelenok!\"\n  ),\n  email: Yup.string().min(6, \"Azyndan 6 simwol bolmaly\").max(100, \"Iň köp 100 simwol\")\n    .required(\"Required\")\n    .matches(\n    /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,\n    \"Email bolmaly\"\n  ),\n  password: Yup.string().min(6, \"Azyndan 8 simwol\").max(6, \"Iň köp 6 simwol\").required('Required'),\n\n  main_phone:Yup.string().min(8, \"Telefon nomeri 8 simwoldan az bolmaly dal!\").\n  max(8, \"Telefon nomeri 8 simwoldan kop bolmaly dal\").required(\"Telefon nomeri hokman gerek\").matches(\n    /^[0-9]*$/,\n    \"Telefon hökman gerek!\"\n  ),\n});\n\nexport default Form;\n","import React, { useContext, useEffect, useState } from 'react';\nimport Loading from '../Loading'\nimport {EditIcon, AddIcon, TrashIcon} from '../../icons/index';//\nimport {lazy} from \"react\";\nimport useTimeOut from '../useTimeOut';\nimport PaginationButton from '../PaginationButton'\nimport ReactPaginate from 'react-paginate';\n\n\nimport { delete_user, get_users} from '../../http/adminApi.js';\n\nconst ModalContainer = lazy(() => import('../ModalContainer'));\nconst Form = lazy(() => import('./Form.js'))\n\n\nfunction Table(){\n    const [load, setLoad] = useState(true)\n    const [users, setUsers] = useState([])\n    const [user_name, setUserName] = useState('')\n    const [count, setCount] = useState(0)\n    const [page, setPage] = useState(0)\n    const [limit, setLimit] = useState(25)\n    const [fetching, setFetching] = useState(true)\n    const [searchfield, setSearchField]  = useState(false)\n    const deleteUser = async (id) =>{\n   \n        try{\n            setLoad(true)\n            await delete_user(id)\n            let da = {\"id\":id}\n            setUsers(users.filter(item => item.id !== id))\n            setLoad(false)\n        }catch(e){\n            console.log(\"hello world\")\n        }\n    }\n\n        useEffect( async () => {\n            try{\n                if(fetching){\n                    console.log(\":I am in  useEffect\")\n                    console.log(searchfield, \"------search field this\")\n                    const data = await get_users({page, limit, user_name});\n                    console.log(data)\n                    if(!searchfield){\n                        setUsers([...users, ...data.rows.users])\n                    }else{\n                        setUsers([])\n                        setUsers(data.rows.users)\n                    }\n                    setCount(data.rows.count)\n                    // setMaxPage(Math.floor(count/30))\n                    setPage(prev => prev+1)\n                    setFetching(false)\n                    setSearchField(false)\n                    setLoad(false)\n                }\n                \n            }catch(e){\n\n            }\n        }, [fetching])\n        useEffect(()=>{\n            console.log(searchfield)\n        }, [searchfield])\n        const handleSearch = useTimeOut({time:200, action:(value) => {setUserName(value); setFetching(true); setPage(0); setSearchField(true) }})\n        // console.log(users)\n\n        useEffect ( ()=>{\n            document.addEventListener('scroll', scrollHandler)\n    \n            return function(){\n                document.removeEventListener('scroll', scrollHandler)\n            }\n        }, [])\n    \n        const scrollHandler = (e) =>{\n            console.log(\"Hello scroll handler\")\n            if((e.target.documentElement.scrollHeight - (e.target.documentElement.scrollTop + window.innerHeight)) < 200){\n                if(users.length < count){\n                    setFetching(true)\n            \n                }else{\n                    setFetching(true)\n                }\n                \n            }\n        }\n    return(\n        \n        <>\n        {load ? <Loading type = \"global\"/> :\n        <div className = \"w-full\">\n            \n            <div className = \"flex flex-row py-2\">\n                <div className = \"flex flex-row p-2 w-full\">\n                    <input type=\"text\" name=\"user_name\" placeholder = \"Ulanyjyny adyny giriziň\" onChange = {e => {handleSearch(e.target.value) }}\n                    className = \"w-30 h-full px-3 py-2 placeholder-gray-400 text-gray-700 dark:text-gray-200  bg-white dark:bg-gray-700 rounded text-sm focus:outline-none  border-0 ring-1 ring-gray-300 dark:ring-gray-800 focus:ring-purple-700 dark:focus:ring-2 dark:focus:ring-gray-600 w-full\"/>\n                </div>\n                <div className=\"flex flex-row p-2 w-full justify-between items-start\">\n                            <ModalContainer Button={(setClose) => <AddIcon onClick={() => setClose()} className=\"w-10 h-10 cursor-pointer text-indigo-600 hover:text-indigo-900\"/>} title=\"Ulanyjy Üýtgetmek Formasy\" size=\"min\">\n                        <Form users = {users} setUsers = {setUsers} setLoad = {setLoad}></Form>\n                        </ModalContainer>\n                </div>\n            </div>\n            <div className = \"flex flex-column\">\n            <table className=\"min-w-full divide-gray-200 dark:divide-gray-600\">\n                <thead className=\"w-full shadow bg-white rounded-t dark:bg-gray-800 \">\n                    <tr className=\"w-full my-2 px-4\">\n                        <th scope=\"col\" className=\"px-2 py-2 w-20 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                            Ady we familiýasy\n                        </th>\n                        <th scope=\"col\" className=\"px-2 py-2 w-20 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                            Telefon nomeri\n                        </th>\n                        <th scope=\"col\" className=\"px-2 py-2 w-20 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                            Ulanyjynyň email-y\n                        </th>\n                        \n                        <th scope=\"col\" className=\"px-2 py-2 w-20 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                            Gizlyn kody\n                        </th>\n                        <th scope=\"col\" className=\"px-2 py-2 w-20 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                            Üytgetmek\n                        </th>\n                        <th scope=\"col\" className=\"px-2 py-2 w-5 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                            Ulanyjyny pozmak\n                        </th>\n                    </tr>\n                </thead>\n                <tbody className=\"w-full h-5 overflow-x-auto bg-white  dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600\">\n                {users && users.map(item =>\n                    <tr key = {item.id} className=\"w-full mb-4 px-4\">\n                    <td className=\"px-2  py-2 whitespace-wrap\">\n                        <div className=\"text-sm text-gray-900 dark:text-gray-100\">{item.full_name}</div>\n                    </td>\n                    <td className=\"px-2  py-2 whitespace-wrap\">\n                        <div className=\"text-sm text-gray-900 dark:text-gray-100\">{item.main_phone}</div>\n                    </td>\n                    <td className=\"px-2  py-2 whitespace-wrap\">\n                        <div className=\"text-sm text-gray-900 dark:text-gray-100\">{item.email}</div>\n                    </td>\n                    <td className=\"px-2  py-2 whitespace-wrap\">\n                        <div className=\"text-sm text-gray-900 dark:text-gray-100\">{item.password}</div>\n                    </td>\n                    <td className=\"py-2 px-2\">\n                        <div className=\"flex flex-row justify-between items-center\">\n                            <ModalContainer Button={(setClose) => <EditIcon onClick={() => setClose()} className=\"w-5 h-5 mx-3 cursor-pointer text-indigo-600 hover:text-indigo-900\"/>} title=\"Ulanyjy Üýtgetmek Formasy\" size=\"min\">\n                                <Form values = {{...item}} setLoad = {setLoad} users = {users} setUsers = {setUsers}></Form>\n                            </ModalContainer>\n                        </div>\n                    </td>\n                    <td className=\"px-2  py-2 whitespace-wrap\">\n                    <TrashIcon title=\"pozmak\" className=\"w-5 h-5 mx-3 cursor-pointer text-indigo-600 hover:text-indigo-900\" onClick={() => deleteUser(item.id)}/>\n                    </td>\n                </tr>\n                )}\n                </tbody>\n            </table>\n            </div>\n            {/* <div className=\"fixed bottom-0 left-0 w-full flex justify-center items-center bg-gray-100 dark:bg-black\">\n                <ReactPaginate\n                    previousLabel={<PaginationButton pageCount={count / limit} page={page} direction=\"previous\"/>}\n                    nextLabel={<PaginationButton pageCount={count / limit}  page={page} direction=\"next\"/>}\n                    breakLabel={'...'}\n                    breakClassName={'break-me'}\n                    pageCount={count / limit}\n                    forcePage={page}\n                    marginPagesDisplayed={2}\n                    pageRangeDisplayed={5}\n                    onPageChange={(page) => setPage(page.selected)}\n                    containerClassName={'list-none flex flex-row justify-center items-center w-full max-w-sm mx-auto'}\n                    activeClassName={'list-none p-1 text-white rounded-lg shadow-md bg-gradient-to-r from-indigo-500 via-indigo-500 to-indigo-700 text-white pagination-active-link select-none'}\n                    pageClassName={'list-none p-1  rounded-lg mx-1 text-sm text-gray-600 bg-white dark:bg-gray-600 text-gray-900 dark:text-white select-none'}\n                    pageLinkClassName={'list-none  py-1 px-2 w-full h-full focus:outline-none outline-none z-50 select-none'}\n                    previousLinkClassName={'list-none cursor-pointer focus:outline-none outline-none select-none'}\n                    nextLinkClassName={'list-none cursor-pointer focus:outline-none outline-none select-none'}\n                />\n            </div> */}\n        </div>\n        }\n        </>\n    )\n}\n\nexport default Table;","import React from 'react';\nimport {forceUpdate} from 'react'\nimport Sidebar from '../components/SideBar';\nimport Table from '../components/Users/Table';\nimport ModalContainer from '../components/ModalContainer'\nimport Form from '../components/Users/Form'; \nimport {EditIcon} from '../icons/index'\n\nconst Users = ()=>{\n    return (\n        <div className=\"w-full bg-gray-50 dark:bg-black dark:text-white\">\n            <div className=\"flex flex-row justify-start h-full overflow-y-hidden\">\n              <Sidebar/>\n                 <Table /> \n            </div>\n        </div>\n    )\n}\n\nexport default Users;"],"sourceRoot":""}