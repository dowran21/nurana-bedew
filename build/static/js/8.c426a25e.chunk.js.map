{"version":3,"sources":["components/Button.js","components/PaginationButton.js","components/useTimeOut.js","icons/CloseIcon.js","components/Products/ImageUpload.js","components/Products/Table.js","pages/Products.js"],"names":["Button","title","type","Icon","handleClick","onClick","className","useTimeOut","action","time","useState","timeOut","setTime","value","clearTimeout","setTimeout","CloseIcon","props","viewBox","fill","height","width","d","ImageUpload","data","id","setClose","setProducts","products","handleSubmit","useForm","close1","setClose1","file","setFile","onSubmit","a","im","FormData","append","update_image","then","map","item","destination","console","log","htmlFor","onChange","event","target","files","undefined","err","every","toast","error","checkMimeType","size","checkFileSize","reader","FileReader","readAsDataURL","onload","e","hidden","src","alt","multiple","ModalContainer","lazy","Form","Table","admin","load","setLoad","producers","setProducers","product_name","setProductName","producer_id","setProducerID","page","setPage","count","setCount","fetching","setFetching","searchfield","setSearchField","useEffect","get_products","rows","prevState","document","addEventListener","scrollHandler","removeEventListener","documentElement","scrollHeight","scrollTop","window","innerHeight","length","SendSMS","send_sms_all","get_producers","deleteProduct","delete_product","filter","UpdateNewInCome","new_in_come_false","newInCome","bool","miniLoad","new_in_come_update","new_in_come","Loading","name","placeholder","val","producer_name","scope","stock_count","price","date_of_expire","substring","values","checked","image","Products","useContext","Context","SideBar"],"mappings":"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","file":"static/js/8.c426a25e.chunk.js","sourcesContent":["import {string, func} from \"prop-types\"\n\nconst Button = ({title, type, Icon, handleClick}) => (\n    <>\n    {title ? \n        <button  type={type} onClick={handleClick} className=\"w-full h-full flex flex-row flex-shrink-0 justify-center items-center p-1 text-sm font-semibold text-white dark:text-gray-200 border-2 border-purple-700 bg-purple-700 rounded-md shadow-xs hover:bg-purple-600 active:bg-purple-700  focus:outline-none\">\n            {Icon && \n                <div className=\"bg-purple-700 rounded mr-2 h-full flex justify-center items-center remove-button-bg\">\n                    <Icon className=\"text-2xl\"/>\n                </div>\n            }\n            {title}\n        </button>\n    :\n        <button  type={type} onClick={handleClick} className=\"w-full h-full p-1 flex justify-center items-center text-gray-500 remove-button-bg bg-white border-2  border-gray-400 focus:text-white focus:bg-purple-700 hover:bg-purple-700 active:bg-purple-700 hover:text-white active:text-white hover:border-purple-700 rounded-md focus:outline-none\" >\n            <Icon className=\"text-2xl\"/>\n        </button>\n    }\n    </>\n);\n\nButton.propTypes = {\n    name: string,\n    type:string.isRequired,\n    Icon:func,\n    handleClick:func\n};\n\nexport default Button;","import NavigateNextIcon from '../icons/NavigateNextIcon';\nimport NavigateBeforeIcon from '../icons/NavigateBeforeIcon';\nimport {string, number} from 'prop-types';\n\nconst PaginationButton = ({direction, pageCount, page}) => {\n    return (\n        <>\n        {direction === \"next\" ? \n            <button disabled={page === Math.floor(pageCount)} type=\"button\"\n                className={page === Math.floor(pageCount) ? \n                    \"cursor-not-allowed w-full p-1  shadow-md text-xl focus:outline-none outline-none rounded-lg text-gray-400 dark:text-white dark:bg-gray-600 bg-gray-50 hover:bg-white hover:text-indigo-500\"\n                    :\n                    \"w-full p-1  shadow-md text-xl focus:outline-none outline-none rounded-lg text-gray-400 dark:text-white bg-gray-50 dark:bg-gray-600 hover:bg-white hover:text-indigo-500\"\n            }>\n                <NavigateNextIcon />\n            </button> \n            :\n            <button disabled={page === 0} type=\"button\"\n                className={page === 0 ? \n                    \"cursor-not-allowed w-full p-1  shadow-md text-xl focus:outline-none outline-none rounded-lg text-gray-400 dark:text-white bg-gray-50 dark:bg-gray-600 hover:bg-white hover:text-indigo-500\" \n                    : \n                    \"w-full p-1  shadow-md text-xl focus:outline-none outline-none rounded-lg text-gray-400 dark:text-white bg-gray-50 dark:bg-gray-600 hover:bg-white hover:text-indigo-500\"\n            }>\n                <NavigateBeforeIcon/>\n            </button> \n        }\n        </>\n    );\n};\n\nPaginationButton.propTypes = {\n    direction:string.isRequired,\n    pageCount:number.isRequired,\n    page:number.isRequired\n}\n\nexport default PaginationButton;","import {useState} from 'react';\r\n\r\nfunction useTimeOut({action, time}){\r\n    const [timeOut, setTime] = useState(0);\r\n    function handleChange(value){\r\n        if(timeOut) clearTimeout(timeOut);\r\n        setTime(\r\n            setTimeout(() => {action(value)}, time)\r\n        );\r\n    }\r\n    return handleChange;\r\n}\r\n\r\nexport default useTimeOut;","function CloseIcon(props) {\r\n    return (\r\n      <svg\r\n        viewBox=\"0 0 512 512\"\r\n        fill=\"currentColor\"\r\n        height=\"1em\"\r\n        width=\"1em\"\r\n        {...props}\r\n      >\r\n        <path d=\"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z\" />\r\n      </svg>\r\n    );\r\n  }\r\n  \r\n  export default CloseIcon;  ","import { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { toast } from 'react-hot-toast';\r\nimport { update_image } from '../../http/adminApi';\r\nimport CloseIcon from '../../icons/CloseIcon';\r\n\r\nfunction ImageUpload({ data, id, setClose, setProducts, products }) {\r\n\r\n    const { handleSubmit } = useForm();\r\n    const [close1, setClose1] = useState(false)\r\n    const [file, setFile] = useState(null)\r\n\r\n    const ChangeImage = (e)=>{\r\n        console.log(e.target.files)\r\n        setFile(e.target.files[0])\r\n    }\r\n\r\n    const checkMimeType = (event, file) => {\r\n        let err = ''\r\n        const mime_types = ['image/png', 'image/jpeg', 'image/jpg']\r\n        if (mime_types.every(type => file?.type !== type)) {\r\n            err += file?.type + ' goldanýan format däl\\n';\r\n        }\r\n        if (err !== '') { // if message not same old that mean has error \r\n            event.target.files = null // discard selected file\r\n            toast.error(err);\r\n            return false;\r\n        } return true;\r\n    }\r\n\r\n    const checkFileSize = (event, file) => {\r\n        if (file?.size > 1048576) {\r\n            event.target.files = null\r\n            return false\r\n        } return true\r\n    }\r\n\r\n    const onSubmit = async ()=>{\r\n        const im = new FormData();\r\n        im.append('picture', file)\r\n        update_image(id, im).then(data =>\r\n            {\r\n                setProducts(products.map(item => {\r\n                    if(item.id == id){\r\n                        item.destination = data\r\n                        console.log(item)\r\n                    }return item\r\n                }))\r\n                setClose()\r\n            }\r\n        )\r\n    }\r\n\r\n    const onChangeHandler = (event) => {\r\n        const file = event.target.files[0];\r\n        if (typeof file === 'object' && file !== undefined && file !== null) {\r\n            if (checkMimeType(event, file) && checkFileSize(event, file)) {\r\n                const reader = new FileReader();\r\n                reader.readAsDataURL(file);\r\n                reader.onload = async function (e) {\r\n                    // setImage({ image: e.target.result, type: file.type });\r\n                    event.target.files = null;\r\n                    event.target.value = '';\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return (\r\n        <>\r\n            <div className=\"relative z-50 overflow-hidden w-full h-full flex flex-col shadow-inner rounded-lg border\">\r\n                {data && <label htmlFor=\"actual-btn\" className={`relative cursor-pointer w-full h-80 lg:h-64 p-1`}>\r\n                    <div className={`${data ? 'hidden' : ''} absolute w-full h-full flex justify-center items-center z-30`}>\r\n                        <div className=\"w-32 py-2 text-center bg-primary rounded-lg font-medium active:bg-yellow-400\">\r\n                            Surat Saýla\r\n                        </div>\r\n                    </div>\r\n                    {!close1 ?\r\n                        <img src={data ? `http://45.93.136.141:7000/${data}-big.webp` : '/stock/product.jpg'} className=\"object-cover rounded-lg w-full h-full opacity-80\" alt=\"upload images\" />\r\n                    :\r\n                    <input type=\"file\" onChange={onChangeHandler} id=\"actual-btn\" hidden />}\r\n                </label>}\r\n                <div onClick={() => {setClose1(true); console.log(close1)}} className={`${data ? '' : 'hidden'} absolute z-50 cursor-pointer text-white top-3 right-3 w-8 h-8 flex justify-center items-center bg-red-500 rounded-lg mr-1 mt-1`}>\r\n                    <CloseIcon className=\"text-4xl\" />\r\n                </div>\r\n                <div className=\"relative w-full mt-5 flex flex-col justify-start items-start\">\r\n                <label className=\"block uppercase text-gray-700 dark:text-gray-200 text-xs font-medium mb-2\" htmlFor=\"email\">\r\n                    {data ? \"Harydyň suratyny uytgetmek\"\r\n                    : \"Harydyn suratyny\"\r\n                    }\r\n                </label>\r\n                <form onSubmit={handleSubmit(onSubmit)}>\r\n                    <input type=\"file\"  onChange = {ChangeImage} multiple =\"\"\r\n                        className=  \"px-3 py-2 placeholder-gray-400 text-gray-700 dark:text-gray-200  bg-white dark:bg-gray-700 rounded text-sm focus:outline-none  border-0 ring-1 ring-gray-300 dark:ring-gray-800 focus:ring-purple-700 dark:focus:ring-2 dark:focus:ring-gray-600 w-full\"/>\r\n                    <div className=\"absolute top-14 left-0 text-xs text-red-500 font-normal mt-2\"></div>\r\n                    <button\r\n                        className=\"bg-purple-700 hover:bg-purple-600 text-white  active:bg-gray-700 text-sm font-medium uppercase px-6 py-3 rounded shadow outline-none focus:outline-none mr-1 mb-1 w-full\"\r\n                        type=\"submit\" \r\n                    >\r\n                        {data ? \"Uytgetmek\" : \"Gosmak\"}\r\n                    </button>\r\n                </form>\r\n            </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ImageUpload;","import React, { useEffect, useState } from 'react';\n// import { Context } from '../../index.js';\nimport Loading from '../Loading'\nimport {lazy} from 'react'\n// import Button from '../Button'\nimport ReactPaginate from 'react-paginate';\nimport {EditIcon, TrashIcon} from '../../icons/index';\nimport {AddIcon} from '../../icons/index';\nimport PaginationButton from '../PaginationButton'\n// import { Icon } from 'react-icons-kit';\nimport Switch from 'react-switch'\nimport ImageUpload from './ImageUpload';\n\n\nimport { delete_product, get_products,send_sms_all, new_in_come_update, get_producers, new_in_come_false} from '../../http/adminApi.js';\nimport useTimeOut from '../useTimeOut';\n// import { useHistory } from 'react-router';\n// import { LOGIN_ROUTE } from '../../utils/consts';\nimport Button from '../Button';\nconst ModalContainer = lazy(() => import('../ModalContainer'));\nconst Form = lazy(() => import('./Form.js'))\n\nfunction Table(admin){\n    const [load, setLoad] = useState(true);\n    const [products, setProducts] = useState([]);\n    const [producers, setProducers] = useState([]);\n    const [product_name, setProductName] = useState('');\n    const [producer_id, setProducerID] = useState();\n    // const [new_in_come, setNewInCome] = useState('');\n    const [page, setPage] = useState(0)\n    const [count, setCount] = useState(0)\n    // const [currentPage, setCurrentPgae] = useState(0)\n    const [fetching, setFetching] = useState(true)\n    const [searchfield, setSearchField] = useState(false)\n\n    useEffect( async () => {\n        if(fetching){\n            console.log(\"hello i am in if\")\n            try{\n                const data = await get_products(page, 60, product_name, producer_id)\n                console.log(data.rows.products)\n                if(!searchfield){\n                    setProducts([...products, ...data.rows.products]);\n                }else{\n                    setProducts(data.rows.products)\n                }\n                setFetching(false)\n                setSearchField(false)\n                setPage(prevState => (prevState + 1))\n                setCount(data.rows.count)\n                setLoad(false)\n            }catch(e){\n                console.log(e)\n                setLoad(false)\n            }\n        }        \n    }, [product_name, producer_id, fetching, searchfield]);\n    \n    useEffect ( ()=>{\n        document.addEventListener('scroll', scrollHandler)\n\n        return function(){\n            document.removeEventListener('scroll', scrollHandler)\n        }\n    }, [])\n\n    const scrollHandler = (e) =>{\n        if((e.target.documentElement.scrollHeight - (e.target.documentElement.scrollTop + window.innerHeight)) < 200){\n            if(count){\n                if(products.length < count){\n                    setFetching(true)\n                }\n            }else{\n                setFetching(true)\n               \n            }\n            \n        }\n    }\n\n\n    const SendSMS = async () =>{\n        try {\n            console.log(\"i am in try\")\n            const data = await send_sms_all()\n        } catch (e) {\n            \n        }\n    }\n    useEffect(() => {\n        // get_categories().then(data =>setCategories(data.rows.categories));\n        get_producers().then(data=> setProducers(data.rows.producers));\n    }, [])\n\n    const deleteProduct = async(id)=>{\n        setLoad(true)\n        delete_product(id).then(data =>{\n            setLoad(false)\n            setProducts(products.filter(item => item.id !== id))\n        })\n    }\n\n    const UpdateNewInCome  = async () =>{\n        setLoad(true)\n        new_in_come_false().then(data =>{\n            console.log(data)\n            setLoad(false)\n        })\n        setLoad(false)\n    }\n\n    const newInCome = async(id, bool) =>{\n        setProducts(products.map(item =>{\n            if(item.id === id){\n                item.miniLoad = true\n            }return item\n        }))\n        new_in_come_update(id, bool).then(data =>{\n        setProducts(products.map(item =>{\n            if(item.id === id){\n                item.new_in_come = bool\n                item.miniLoad = false\n            }return item\n        }))\n    })\n        \n    }\n\n    const NameSearch = (value) => {\n        setSearchField(true); \n        setPage(0); \n        setFetching(true); \n        setProductName(value);\n    }\n    // const NameSearch = (val) =>{\n    //     setProductName(val)\n    //     setFetching(true)\n    // }\n    const SearchProducer = (val) =>{\n        setSearchField(true)\n        setProducerID(val)\n        setFetching(true)\n    }\n    return(\n\n        <>\n        {load ? <Loading type = \"global\"/> :\n        <div className = \"w-full\">\n            <div className = \"flex flex-row py-2 w-full\">\n                    <div className = \"flex flex-row w-full p-2\">\n                        <input type=\"text\" name=\"product_name\" placeholder = \"Dermanyň adyny giriziň\" onChange = {e => {NameSearch(e.target.value)}}\n                        className = \"w-30 h-full px-3 py-2 placeholder-gray-400 text-gray-700 dark:text-gray-200  bg-white dark:bg-gray-700 rounded text-sm focus:outline-none  border-0 ring-1 ring-gray-300 dark:ring-gray-800 focus:ring-purple-700 dark:focus:ring-2 dark:focus:ring-gray-600 w-full\"/>\n                    </div> \n                    <div className = \"flex flex-row w-full p-2\">\n                    <select value = {producer_id} name=\"producer_id\" placeholder = \"Yurdy saylan\" onChange = {e => {SearchProducer(e.target.value);  setPage(0)}}\n                        className=\"px-3 py-2 placeholder-gray-400 text-gray-700 dark:text-gray-200  bg-white dark:bg-gray-700 rounded text-sm focus:outline-none  border-0 ring-1 ring-gray-300 dark:ring-gray-800 focus:ring-purple-700 dark:focus:ring-2 dark:focus:ring-gray-600 w-full\"\n                    >   \n                        {/* <option key = \"\" value = \"\" disabled>Yurdy saylan</option> */}\n                        <option key = \"\" value = \"\">Öndürijileriň hemmesi</option>\n                        {producers?.length && producers.map(item =>\n                        <option key = {item.id} value = {item.id}>{item.producer_name}</option>)}\n                    </select>\n                    </div>\n                    <div className = \"flex flex-row w-full p-2\">\n                        <Button title = \"Ulanyjylara Sms Ugrat\" handleClick = {SendSMS}/>\n                    </div>\n                    <div className = \"flex flex-row w-full p-2\">\n                        <Button title = \"Täze gelenden aýyrmak\" handleClick = {UpdateNewInCome}/>\n                    </div>\n                    <div>\n                        <ModalContainer Button={(setClose) => <AddIcon onClick={() => setClose()} className=\"w-20 h-10 p-1 cursor-pointer text-indigo-600 hover:text-indigo-900\"/>} title=\"Harydy Goşmak Formasy\" size=\"min\">\n                            <Form setProducts = {setProducts} products = {products} setLoad = {setLoad}></Form>\n                        </ModalContainer>\n                    </div>\n            </div>\n        <div className = \"flex flex-column w-full\">\n        <table className=\"min-w-full py-4 h-full divide-y divide-x divide-gray-200 dark:divide-gray-600\">\n            <thead className=\"w-full shadow bg-white rounded-t dark:bg-gray-800 \">\n                <tr className=\"w-full my-2 px-4\">\n                    <th scope=\"col\" className=\"px-2 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                        Harydyň ady\n                    </th>\n                    <th scope=\"col\" className=\"px-2 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                        Öndüriji\n                    </th>\n                    <th scope=\"col\" className=\"px-2 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                        Sany\n                    </th>\n                    <th scope=\"col\" className=\"px-2 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                        Baha\n                    </th>\n                    <th scope=\"col\" className=\"px-2 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                        Möhleti\n                    </th>\n                    <th scope=\"col\" className=\"px-2 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                        Üýtgetmek\n                    </th>\n                    \n                    <th scope=\"col\" className=\"px-2 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                        Täze gelen\n                    </th>\n                    <th scope=\"col\" className=\"px-2 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                    Suraty calysmak\n                    </th>\n                    <th scope=\"col\" className=\"px-2 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                        Pozmak\n                    </th>\n                </tr>\n            </thead>\n            <tbody className=\"w-full h-5 overflow-x-auto bg-white  dark:bg-gray-800 divide-y divide-x divide-gray-200 dark:divide-gray-600\">\n            {products && products.map(item => \n                <tr key = {item.id} className=\"w-full mb-4 px-4\">\n                <td className=\"px-2  py-2 whitespace-wrap\">\n                    <div className=\"text-sm text-gray-900 dark:text-gray-100\">{item.product_name}</div>\n                </td>\n                <td className=\"px-2  py-2 whitespace-wrap\">\n                    <div className=\"text-sm text-gray-900 dark:text-gray-100\">{item.producer_name}</div>\n                </td>\n                <td className=\"px-2  py-2 whitespace-wrap\">\n                    <div className=\"text-sm text-gray-900 dark:text-gray-100\">{item.stock_count}</div>\n                </td>\n                <td className=\"px-2  py-2 whitespace-wrap\">\n                    <div className=\"text-sm font-bold text-red-500 dark:text-gray-100\">{item.price}</div>\n                </td>\n                <td className=\"px-2  py-2 whitespace-wrap\">\n                    <div className=\"text-sm text-gray-900 dark:text-gray-100\">{item.date_of_expire.substring(0, 7)}</div>\n                </td>\n                <td className=\"py-2 px-2\">\n                    <div className=\"flex flex-row justify-between items-center\">\n                        <ModalContainer Button={(setClose) => <EditIcon onClick={() => setClose()} className=\"w-5 h-5 mx-3 cursor-pointer text-indigo-600 hover:text-indigo-900\"/>} title=\"Harydy Üýtgetmek Formasy\" size=\"min\">\n                            <Form values = {{...item}} setProducts = {setProducts} products = {products} setLoad = {setLoad}></Form>\n                        </ModalContainer>\n                    </div>\n                </td>\n                <td className=\"px-2  py-2 whitespace-wrap\">\n                        {item.miniLoad? <Loading type = \"table\"/>\n                            :\n                            <div>\n                                <Switch onChange = {(value) => newInCome(item.id, value)} checked = {item.new_in_come} className = \"w-auto h-5\"/>\n                            </div>\n                        }\n                 </td>\n                 \n                <td className=\"px-2  py-2 whitespace-wrap items-center\">\n                    <div className=\"flex flex-row justify-between items-center\">\n                        <ModalContainer Button={(setClose) => <img onClick={() => setClose()} \n                            src = {item.image ? \n                                `http://admin.nurana-bedew.online/${item.image}-mini.webp`\n                                :\n                                `./add.png`} \n                            className=\"h-10 w-10 cursor-pointer text-indigo-600 hover:text-indigo-900\"/>} \n                            title=\"Harydy Üýtgetmek Formasy\" \n                            size=\"min\">\n                        <ImageUpload data = {item.image} id = {item.id} setProducts = {setProducts} products = {products} />\n                       </ModalContainer>\n                    </div>     \n                </td>\n                <td className=\"px-2  py-2 whitespace-wrap\">\n                    <TrashIcon title=\"pozmak\" className=\"w-5 h-5 mx-3 cursor-pointer text-indigo-600 hover:text-indigo-900\" onClick={() => deleteProduct(item.id)}/>\n                </td>\n            </tr>\n        )}\n            </tbody>\n        </table>\n        </div>\n        </div>\n        }\n        </>\n    )\n}\n\nexport default Table;","import React, { useContext } from 'react';\nimport Table from '../components/Products/Table.js';\nimport SideBar from '../components/SideBar.js';\nimport { Context } from '../index.js';\n\nconst Products = ()=>{\n    const {admin} = useContext(Context) \n    return (\n        <div className=\"w-full h-full bg-gray-50 dark:bg-black dark:text-white\">\n        <div className=\"flex flex-row justify-start h-full overflow-y-hidden\">\n          <SideBar/>\n          <div className=\"flex flex-row w-full h-full justify-between items-start\">\n          <Table admin = {admin}/>\n          </div>\n          \n          </div>\n    </div>\n    )\n}\n\nexport default Products;"],"sourceRoot":""}