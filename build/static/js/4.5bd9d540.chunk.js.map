{"version":3,"sources":["components/Categories/Form.js"],"names":["Form","values","setClose","categories","setCategories","useForm","defaultValues","register","handleSubmit","errors","formState","onSubmit","data","a","console","log","update_category","id","map","item","add_category","da","rows","className","htmlFor","type","name","placeholder","fullname"],"mappings":"sLA6FeA,UAxFf,YAA6D,IAA9CC,EAA6C,EAA7CA,OAAQC,EAAqC,EAArCA,SAAUC,EAA2B,EAA3BA,WAAYC,EAAe,EAAfA,cAC3C,EAA0DC,YAAQ,CAChEC,cAAcL,IADRM,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,aAA2BC,EAA7C,EAAgCC,UAAaD,OAOvCE,EAAQ,uCAAG,WAAOC,GAAP,eAAAC,EAAA,yDACfC,QAAQC,IAAIH,GACZE,QAAQC,IAAI,sBACTd,EAHY,0CAKLe,YAAgBJ,EAAKK,GAAIL,GALpB,OAMXR,EAAcD,EAAWe,KAAI,SAAAC,GAC3B,OAAGA,EAAKF,KAAOL,EAAKK,GACXL,EACDO,MAEVjB,IAXW,kDAaXY,QAAQC,IAAI,kBACZD,QAAQC,IAAR,MAdW,2DAkBMK,YAAaR,GAlBnB,QAkBLS,EAlBK,OAmBXjB,EAAc,CAACiB,EAAGC,MAAL,mBAAcnB,KAC3BD,IApBW,mDAsBXY,QAAQC,IAAI,iBAtBD,kEAAH,sDA2Bd,OACE,qBAAKQ,UAAU,wCAAf,SACE,sBAAMZ,SAAUH,EAAaG,GAAWY,UAAU,OAAlD,SACE,sBAAKA,UAAU,+DAAf,UACE,uBAAOA,UAAU,4EAA4EC,QAAQ,QAArG,uCAGA,iDAAWjB,EAAS,kBAApB,IAAsCkB,KAAK,OAAOC,KAAK,gBAAgBC,YAAY,kBACjFJ,UAAYd,EAAOmB,SACjB,2JAEA,6PAGN,qBAAKL,UAAU,yBAAf,SACE,wBACEA,UAAU,2KACVE,KAAK,SAFP,SAIGxB,EAAS,kBAAc","file":"static/js/4.5bd9d540.chunk.js","sourcesContent":["import { useForm } from \"react-hook-form\";\n\nimport { add_category, update_category} from \"../../http/adminApi\";\n\n\nfunction Form({values, setClose, categories, setCategories}){\n  const { register, handleSubmit, formState: { errors } } = useForm({ \n    defaultValues:values\n  });\n  \n\n  \n\n  const onSubmit = async (data) => {\n    console.log(data)\n    console.log(\"I am in on submit\")\n    if(values){\n      try {\n        await update_category(data.id, data)\n        setCategories(categories.map(item => {\n          if(item.id === data.id){\n            return data\n          }return item\n        }))\n        setClose()\n      } catch (e) {\n        console.log(\"i am in errror\")\n        console.log(e)\n      }\n    }else{\n      try {\n        const da = await add_category(data)\n        setCategories([da.rows, ...categories])\n        setClose()\n      } catch (e) {\n        console.log(\"i am in error\")\n      }\n    }\n  }  \n\n  return(\n    <div className=\"flex flex-col justify-start px-4 pb-6\">\n      <form onSubmit={handleSubmit(onSubmit)} className=\"pt-2\">\n        <div className=\"relative w-full mt-5 flex flex-col justify-start items-start\">\n          <label className=\"block uppercase text-gray-700 dark:text-gray-200 text-xs font-medium mb-2\" htmlFor=\"email\">\n            kategoriýanyň ady\n          </label>\n          <input {...register(\"category_name\")} type=\"text\" name=\"category_name\" placeholder=\"Ady, Familýa\"\n            className={ errors.fullname ? \n              \"px-3 py-2 placeholder-gray-400 text-gray-700 dark:text-gray-200  bg-white dark:bg-gray-700 rounded text-sm focus:outline-none ring-1 ring-red-500 w-full\"\n              :         \n              \"px-3 py-2 placeholder-gray-400 text-gray-700 dark:text-gray-200  bg-white dark:bg-gray-700 rounded text-sm focus:outline-none  border-0 ring-1 ring-gray-300 dark:ring-gray-800 focus:ring-purple-700 dark:focus:ring-2 dark:focus:ring-gray-600 w-full\"\n            }\n          />\n        <div className=\"text-center mt-12 mb-2\">\n          <button\n            className=\"bg-purple-700 hover:bg-purple-600 text-white  active:bg-gray-700 text-sm font-medium uppercase px-6 py-3 rounded shadow outline-none focus:outline-none mr-1 mb-1 w-full\"\n            type=\"submit\" \n          >\n            {values ? \"Üýtgetmek\" : \"Goşmak\"}\n          </button>\n        </div>\n        </div>\n      </form>\n    </div>\n  )\n}\n\n// const schema = Yup.object().shape({\n//   fullname: Yup.string().min(3, \"Azyndan 3 simwol bolmaly!\").max(100, \"Iň köp 100 simwol bolmaly!\")\n//       .required(\"Hökman gerek\")\n//       .matches(\n//       /^[0-9a-z A-Zа-яА-ЯЁёýÝüÜöÖňŇäÄŽžşŞçÇ*/\\\\.,;:!?#-/$%&*+=\"@()]{3,100}$/,\n//       \"Laýyk gelenok!\"\n//   ),\n//   email: Yup.string().min(6, \"Azyndan 6 simwol bolmaly\").max(100, \"Iň köp 100 simwol\")\n//     .required(\"Required\")\n//     .matches(\n//     /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,\n//     \"Email bolmaly\"\n//   ),\n//   password: Yup.string().min(8, \"Azyndan 8 simwol\").max(50, \"Iň köp 50 simwol\").required('Required')\n//   .matches(\n//     /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$/,\n//     \"Iň azyndan sekiz simwol, iň bolmanda bir harp we bir san bolmaly\"\n//   ),\n\n//   role_id:Yup.string().min(1, \"Roly hökman gerek!\").matches(\n//     /^[0-9]*$/,\n//     \"Roly hökman gerek!\"\n//   ),\n// });\n\nexport default Form;\n"],"sourceRoot":""}