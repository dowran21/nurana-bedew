{"version":3,"sources":["components/Countries/Form.js"],"names":["Form","values","setClose","producers","setProducers","useForm","defaultValues","register","handleSubmit","errors","formState","onSubmit","data","a","console","log","update_producer","id","map","item","add_producer","da","rows","className","htmlFor","type","name","placeholder","fullname"],"mappings":"sLA4FeA,UAxFf,YAA2D,IAA5CC,EAA2C,EAA3CA,OAAQC,EAAmC,EAAnCA,SAAUC,EAAyB,EAAzBA,UAAWC,EAAc,EAAdA,aAC1C,EAA0DC,YAAQ,CAChEC,cAAcL,IADRM,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,aAA2BC,EAA7C,EAAgCC,UAAaD,OAKvCE,EAAQ,uCAAG,WAAOC,GAAP,eAAAC,EAAA,yDACfC,QAAQC,IAAIH,GACZE,QAAQC,IAAI,sBACTd,EAHY,0CAKMe,YAAgBJ,EAAKK,GAAIL,GAL/B,cAMXE,QAAQC,IAAIH,GACZR,EAAaD,EAAUe,KAAI,SAAAC,GACzB,OAAGA,EAAKF,KAAOL,EAAKK,GACXL,EACDO,MAEVjB,IAZW,kDAcXY,QAAQC,IAAI,kBACZD,QAAQC,IAAR,MAfW,iDAmBXD,QAAQC,IAAIH,GAnBD,UAoBMQ,YAAaR,GApBnB,QAoBLS,EApBK,OAqBXjB,EAAa,CAACiB,EAAGC,MAAL,mBAAcnB,KAC1BD,IAtBW,mDAwBXY,QAAQC,IAAI,iBAxBD,kEAAH,sDA6Bd,OACE,qBAAKQ,UAAU,wCAAf,SACE,sBAAMZ,SAAUH,EAAaG,GAAWY,UAAU,OAAlD,SACE,sBAAKA,UAAU,+DAAf,UACE,uBAAOA,UAAU,4EAA4EC,QAAQ,QAArG,4BAGA,iDAAWjB,EAAS,kBAApB,IAAsCkB,KAAK,OAAOC,KAAK,gBAAgBC,YAAY,6BACjFJ,UAAYd,EAAOmB,SACjB,2JAEA,6PAGN,qBAAKL,UAAU,yBAAf,SACE,wBACEA,UAAU,2KACVE,KAAK,SAFP,SAIGxB,EAAS,kBAAc","file":"static/js/15.a22fcaac.chunk.js","sourcesContent":["import { useForm } from \"react-hook-form\";\nimport { add_producer, update_producer} from \"../../http/adminApi\";\n\n\nfunction Form({values, setClose, producers, setProducers}){\n  const { register, handleSubmit, formState: { errors } } = useForm({ \n    defaultValues:values\n  });\n   \n\n  const onSubmit = async (data) => {\n    console.log(data)\n    console.log(\"I am in on submit\")\n    if(values){\n      try {\n        const da = await update_producer(data.id, data)\n        console.log(data)\n        setProducers(producers.map(item => {\n          if(item.id === data.id){\n            return data\n          }return item\n        }))\n        setClose()\n      } catch (e) {\n        console.log(\"i am in errror\")\n        console.log(e)\n      }\n    }else{\n      try {\n        console.log(data)\n        const da = await add_producer(data)\n        setProducers([da.rows, ...producers])\n        setClose()\n      } catch (e) {\n        console.log(\"i am in error\")\n      }\n    }\n  }  \n\n  return(\n    <div className=\"flex flex-col justify-start px-4 pb-6\">\n      <form onSubmit={handleSubmit(onSubmit)} className=\"pt-2\">\n        <div className=\"relative w-full mt-5 flex flex-col justify-start items-start\">\n          <label className=\"block uppercase text-gray-700 dark:text-gray-200 text-xs font-medium mb-2\" htmlFor=\"email\">\n            Öndüriji\n          </label>\n          <input {...register(\"producer_name\")} type=\"text\" name=\"producer_name\" placeholder=\"Öndürijiniň ady\"\n            className={ errors.fullname ? \n              \"px-3 py-2 placeholder-gray-400 text-gray-700 dark:text-gray-200  bg-white dark:bg-gray-700 rounded text-sm focus:outline-none ring-1 ring-red-500 w-full\"\n              :         \n              \"px-3 py-2 placeholder-gray-400 text-gray-700 dark:text-gray-200  bg-white dark:bg-gray-700 rounded text-sm focus:outline-none  border-0 ring-1 ring-gray-300 dark:ring-gray-800 focus:ring-purple-700 dark:focus:ring-2 dark:focus:ring-gray-600 w-full\"\n            }\n          />\n        <div className=\"text-center mt-12 mb-2\">\n          <button\n            className=\"bg-purple-700 hover:bg-purple-600 text-white  active:bg-gray-700 text-sm font-medium uppercase px-6 py-3 rounded shadow outline-none focus:outline-none mr-1 mb-1 w-full\"\n            type=\"submit\" \n          >\n            {values ? \"Üýtgetmek\" : \"Goşmak\"}\n          </button>\n        </div>\n        </div>\n      </form>\n    </div>\n  )\n}\n\n// const schema = Yup.object().shape({\n//   fullname: Yup.string().min(3, \"Azyndan 3 simwol bolmaly!\").max(100, \"Iň köp 100 simwol bolmaly!\")\n//       .required(\"Hökman gerek\")\n//       .matches(\n//       /^[0-9a-z A-Zа-яА-ЯЁёýÝüÜöÖňŇäÄŽžşŞçÇ*/\\\\.,;:!?#-/$%&*+=\"@()]{3,100}$/,\n//       \"Laýyk gelenok!\"\n//   ),\n//   email: Yup.string().min(6, \"Azyndan 6 simwol bolmaly\").max(100, \"Iň köp 100 simwol\")\n//     .required(\"Required\")\n//     .matches(\n//     /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,\n//     \"Email bolmaly\"\n//   ),\n//   password: Yup.string().min(8, \"Azyndan 8 simwol\").max(50, \"Iň köp 50 simwol\").required('Required')\n//   .matches(\n//     /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$/,\n//     \"Iň azyndan sekiz simwol, iň bolmanda bir harp we bir san bolmaly\"\n//   ),\n\n//   role_id:Yup.string().min(1, \"Roly hökman gerek!\").matches(\n//     /^[0-9]*$/,\n//     \"Roly hökman gerek!\"\n//   ),\n// });\n\nexport default Form;\n"],"sourceRoot":""}